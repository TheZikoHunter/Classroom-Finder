<div class="user-management-container">
  <div class="section">
    <h2>Professor Management</h2>
    
    <!-- Error and Success Messages -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>
    
    <!-- Add/Edit Professor Form -->
    <div class="form-container">
      <form [formGroup]="professorForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" formControlName="email" class="form-control">
          <div *ngIf="professorForm.get('email')?.invalid && professorForm.get('email')?.touched" class="error-message">
            Please enter a valid email address
          </div>
        </div>
        
        <div class="form-group">
          <label for="mot_de_passe">Password</label>
          <input type="password" id="mot_de_passe" formControlName="mot_de_passe" class="form-control">
          <div *ngIf="professorForm.get('mot_de_passe')?.invalid && professorForm.get('mot_de_passe')?.touched" class="error-message">
            Password must be at least 6 characters long
          </div>
        </div>
        
        <div class="form-group">
          <label for="nomProfesseur">Last Name</label>
          <input type="text" id="nomProfesseur" formControlName="nomProfesseur" class="form-control">
          <div *ngIf="professorForm.get('nomProfesseur')?.invalid && professorForm.get('nomProfesseur')?.touched" class="error-message">
            Last name is required
          </div>
        </div>
        
        <div class="form-group">
          <label for="prenomProfesseur">First Name</label>
          <input type="text" id="prenomProfesseur" formControlName="prenomProfesseur" class="form-control">
          <div *ngIf="professorForm.get('prenomProfesseur')?.invalid && professorForm.get('prenomProfesseur')?.touched" class="error-message">
            First name is required
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn-cancel" (click)="resetForm()">Cancel</button>
          <button type="submit" class="btn-save" [disabled]="professorForm.invalid">
            {{isEditing ? 'Update' : 'Add'}} Professor
          </button>
        </div>
      </form>
    </div>

    <!-- Professors List -->
    <div class="professors-list">
      <table>
        <thead>
          <tr>
            <th>Last Name</th>
            <th>First Name</th>
            <th>Email</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let professor of professors">
            <td>{{professor.nomProfesseur}}</td>
            <td>{{professor.prenomProfesseur}}</td>
            <td>{{professor.email}}</td>
            <td>
              <button class="btn-edit" (click)="editProfessor(professor)">Edit</button>
              <button class="btn-delete" (click)="deleteProfessor(professor.id_professeur)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> 